(()=>{"use strict";var e={9068:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(a)?a:String(a)),o)}var i,a}r.d(t,{Z:()=>i});var i=function(){function e(t,r,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof Element))throw new Error("Container must be a DOM element.");this.container=t,this.id=n,this.evergreenInterval=r.evergreenInterval||!1,this.endTime=1e3*r.date,this.updateInterval=null,this.isActive=!0,this.onEnd=r.onEnd,0<this.evergreenInterval&&(this.endTime=this.getEvergreenDate()),this.initializeClock()}var t,r,n;return t=e,(r=[{key:"updateClock",value:function(){var e=this.getTimeRemaining(this.endTime);e.total<=0&&this.evergreenInterval>0&&(this.endTime=this.getEvergreenDate(),e=this.getTimeRemaining(this.endTime));var t=this.container.querySelector(".torq-days");t&&(t.textContent=e.parts.days);var r=this.container.querySelector(".torq-hours");r&&(r.textContent=e.parts.hours);var n=this.container.querySelector(".torq-minutes");n&&(n.textContent=e.parts.minutes);var o=this.container.querySelector(".torq-seconds");if(o&&(o.textContent=e.parts.seconds),e.total<=0)return clearInterval(this.updateInterval),void this.onEnd()}},{key:"initializeClock",value:function(){var e=this;this.updateClock(),this.updateInterval=setInterval((function(){e.updateClock()}),1e3)}},{key:"getTimeRemaining",value:function(e){var t=e-new Date,r=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),o=Math.floor(t/36e5%24),i=Math.floor(t/864e5);return(i<0||o<0||n<0)&&(r=n=o=i=0),{total:t,parts:{days:i,hours:o,minutes:n,seconds:r}}}},{key:"getEvergreenDate",value:function(){var e=this,t=this.id+"-evergreen_due_date",r=this.id+"-evergreen_interval",n={dueDate:Number(localStorage.getItem(t)),interval:Number(localStorage.getItem(r))},o=function(){var n=(new Date).getTime()+1e3*e.evergreenInterval;return localStorage.setItem(t,n.toString()),localStorage.setItem(r,e.evergreenInterval.toString()),n};return n.dueDate||n.interval?n.dueDate&&this.evergreenInterval!==n.interval?o():n.dueDate&&this.evergreenInterval===n.interval?n.dueDate:void 0:o()}},{key:"destroy",value:function(){clearInterval(this.updateInterval),this.updateInterval=null,"function"==typeof this.onEnd&&this.onEnd()}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(9068);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}document.addEventListener("DOMContentLoaded",(function(r){document.querySelectorAll(".torq-countdown").forEach((function(r,n){var o=r.dataset,i=o.type||"due_date",a=Number(o.date)||!1,l=Number(o.evergreenInterval)||!1,u=o.actions||!1;"string"==typeof u&&(u=JSON.parse(u)),console.log("actions",u),new e.Z(r,{type:i,date:a,evergreenInterval:l,onEnd:function(){if("object"===t(u)){if("message"===u.type){var e=r.querySelector(".torq-countdown-expire-message"),n=r.querySelector(".torq-countdown-container");e.style.display="block",n.style.display="none"}"redirect"===u.type&&(window.location.href=u.url),"hide"===u.type&&(r.style.display="none")}}},n)}))}))})()})();